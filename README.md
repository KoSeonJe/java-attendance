# 얻어가고 싶은 목표
- [ ] TDD의 장점을 조금이라도 느껴보기
- [ ] 순수한 도메인 모델
  - [ ] 자신 도메인으로만 구현 가능한 비즈니스 로직은 도메인 내부에 구현하기
  - [ ] 여러 도메인의 조합으로 구현해야하는 비즈니스 로직은 해당 책임을 가질 객체를 생성하기
- [ ] 내가 구현한 (거의)모든 코드에 대해 근거를 말할 수 있기

## TDD를 해보면서 느낀 장점들
1. 내가 구현한 코드에 대해 가능한 모든 경우의 수에 대해 테스트를 작성하게 된다. 그러므로 신뢰성이 올라간다

# 미션을 진행하며 든 의문점
1. 출석시간 생성시와 수정시 같은 검증이 반복되고 있는데, hour와 minute의 객체를 생성해야 하는 걸까?
    너무 복잡해지는 것은 아닐까? 트레이드 오프인 것인가!?

2. TDD의 리팩토링 과정 중 다른 도메인에 새로운 메소드를 생성하여 사용하고 싶은데, 이것도 TDD를 해야하는가?
    적절하지 않다고 생각하는데, 이런 부분은 어쩔수 없이 TLD를 해야할까??

3. 예외가 발생할 일이 없다면, 예외 처리를 해야할까? 예외 처리를 한다면 테스트를 어떻게 할 수 있을까? (SchoolDay)

4. public 메소드가 public 메소드에 의존(사용)하는 것이 괜찮을까?
   아니면, 코드가 중복되더라도 따로 작성하는 것이 괜찮을까?

5. 객체의 깊이

# **요구사항 정의서**

# 도메인 내부에 비즈니스 로직
## 출석
### 기능
- [x] 출석 시간과 상태를 수정한다
- [x] 출석 시간이 없는 상태로 생성한다

## 출석 시간
### 기능
- [x] 출석 시간은 입력한 시간과 분으로 생성한다
- [x] 출석 시간과 분의 수정이 가능하다

### 예외
- [x] 생성 시 분의 범위를 벗어나면 예외를 발생시킨다
- [x] 생성 시 캠퍼스 운영시간외 출석을 하면 예외를 발생시킨다
- [x] 업데이트 시 분의 범위를 벗어나면 예외를 발생시킨다
- [x] 업데이트 시 생성 시 캠퍼스 운영시간외 출석을 하면 예외를 발생시킨다

## 출석 상태
### 기능
- [x] 시작 시간으로부터 5분 초과는 지각으로 간주한다
- [x] 시작 시간으로부터 30분 초과는 결석으로 간주한다
- [x] 시작 시간과 동일하며 5분 이하거나 시작 시간보다 작다면 출석으로 간주한다

### 예외
- [x] 지각, 결석, 출석에 조건에 부합하지 않으면 예외를 발생시킨다

## 출석들
### 기능
- [x] 입력 날짜의 전날까지 출석 기록 조회한다
- [x] 원하는 날짜의 출석 기록을 조회할 수 있다
- [x] 원하는 날짜의 출석을 수정할 수 있다

### 예외
- [x] 이미 출석한 기록이 있다면 예외를 발생시킨다
- [x] 조회 날짜에 대한 출석 기록이 없다면 예외를 발생시킨다

## 출석 상태에 따른 경고 관리
### 기능
- [x] 누적 결석 횟수를 통해 경고, 면담, 제적 대상자를 판단한다
  - [x] 결석 2회 이상이면 경고이다
  - [x] 결석 3회 이상이면 면담이다
  - [x] 결석 5회 초과이면 제적이다
  - [x] 결석 1회 이하라면 아무것도 없다

## 크루 출석
### 기능
- [x] 입력한 날짜 전날까지 출석 기록을 조회할 수 있다

## 크루 출석부
### 기능
- [x] 크루 이름을 통해 출석 기록을 조회할 수 있다

### 예외
- [x] 등록되지 않은 크루 닉네임이라면 예외를 발생시킨다

## 출석 상태 카운터
### 기능
- [x] 원하는 출석 상태의 누적 횟수를 조회한다

## 근무 정책 객체
### 기능
- [x] 입력 날짜가 출석 가능한지 여부를 확인할 수 있다
  - [x] 입력 날짜가 공휴일일 경우 false를 반환한다
- [x] 입력 날짜의 출석 시작 시각을 조회할 수 있다

### 예외
- [x] 출석 시작 시각 조회시 입력 날짜가 공휴일 혹은 주말이라면 예외를 발생시킨다

# 여러 도메인 조합이 필요한 비즈니스 로직
## 출석 객체 + 근무 정책 객체
### 기능
- [ ] 출석을 처리한다
- [ ] 입력 날짜까지 모든 출석 기록을 조회한다
  - [ ] 주말 및 공휴일을 제외한 날짜에 출석 기록이 없다면, 빈 출석 시간으로 추가한다

### 예외
- [ ] 주말이나 공휴일에 출석할 시 예외를 발생시킨다

## 크루 출석 객체 + 출석 상태 객체
### 기능
- [ ] 출석들의 누적 출석, 지각 그리고 결석 횟수를 조회한다

## 크루 출석부 + 경고 관리 객체
### 기능
- [ ] 크루의 제적 위험자 조회 결과를 조회할 수 있다
- [ ] 지각 3회당 결석 1번이다

## 시스템 요구사항
### 기능
- [ ] 프로그램은 사용자가 종료할 때까지 종료되지 않으며, 기능을 수행하면 초기 화면으로 돌아간다
- [ ] 출석 시스템에 등록된 크루와 12월 출석 기록을 제공된 파일로부터 읽는다


## 입출력

### 기본 메뉴
```angular2html
오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
```

### 출석 확인
```angular2html
닉네임을 입력해 주세요.
이든
등교 시간을 입력해 주세요.
09:59

12월 05일 화요일 09:59 (출석)
```

### 출석 수정
```angular2html
출석을 수정하려는 크루의 닉네임을 입력해 주세요.
빙티
수정하려는 날짜(일)를 입력해 주세요.
3
언제로 변경하겠습니까?
09:58

12월 03일 화요일 10:07 (지각) -> 09:58 (출석) 수정 완료!
```

### 크루별 출석 기록 확인
```angular2html
닉네임을 입력해 주세요.
빙티

이번 달 빙티의 출석 기록입니다.

12월 02일 월요일 13:00 (출석)
12월 03일 화요일 10:07 (지각)
12월 04일 수요일 10:02 (출석)
12월 05일 목요일 10:06 (지각)
12월 06일 금요일 10:01 (출석)
12월 09일 월요일 --:-- (결석)
12월 10일 화요일 10:03 (출석)
12월 11일 수요일 --:-- (결석)
12월 12일 목요일 --:-- (결석)
12월 13일 금요일 10:02 (출석)

출석: 5회
지각: 2회
결석: 3회

면담 대상자입니다.
```

### 제적 위험자 확인
- [ ] 지각을 결석으로 간주한뒤 내림차순 정렬한다
- [ ] 출석 상태가 같다면 닉네임으로 오름차순 정렬한다
```angular2html
제적 위험자 조회 결과
- 빙티: 결석 3회, 지각 4회 (면담)
- 이든: 결석 2회, 지각 5회 (면담)
- 빙봉: 결석 1회, 지각 6회 (면담)
- 쿠키: 결석 2회, 지각 3회 (면담)
- 짱수: 결석 0회, 지각 6회 (경고)
```
